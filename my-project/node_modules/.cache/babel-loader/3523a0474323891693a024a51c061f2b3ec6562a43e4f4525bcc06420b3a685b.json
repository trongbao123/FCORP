{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport bookData from \"../../../src/json/CommentData.json\";\nimport CommentForm from \"../../../src/components/CommentForm/CommentForm.vue\";\nexport default {\n  name: \"CommentsView\",\n  components: {\n    CommentForm\n  },\n  data() {\n    return {\n      comments: bookData.comments,\n      showCommentForm: false,\n      replyComment: null,\n      editingComment: null,\n      editingReply: null,\n      editingSubReply: null\n    };\n  },\n  methods: {\n    showReplyForm(comment) {\n      this.replyComment = comment;\n      this.showCommentForm = true;\n    },\n    cancelComment() {\n      this.replyComment = null;\n      this.showCommentForm = false;\n    },\n    submitComment(content) {\n      const comment = {\n        id: this.comments.length + 1,\n        author: \"Anonymous\",\n        content,\n        replies: []\n      };\n      if (this.replyComment) {\n        this.replyComment.replies.push(comment);\n        this.replyComment = null;\n      } else {\n        this.comments.push(comment);\n      }\n      this.showCommentForm = false;\n    },\n    editComment(comment) {\n      this.editingComment = comment.id;\n      comment.editing = true;\n    },\n    saveComment(comment) {\n      comment.editing = false;\n      this.editingComment = null;\n    },\n    cancelEditComment(comment) {\n      comment.editing = false;\n      this.editingComment = null;\n    },\n    deleteComment(commentId) {\n      this.comments = this.comments.filter(comment => comment.id !== commentId);\n    },\n    editReply(reply) {\n      this.editingReply = reply.id;\n      reply.editing = true;\n    },\n    saveReply(reply) {\n      reply.editing = false;\n      this.editingReply = null;\n    },\n    cancelEditReply(reply) {\n      reply.editing = false;\n      this.editingReply = null;\n    },\n    deleteReply(commentId, replyId, subReplyId) {\n      if (subReplyId) {\n        this.comments.forEach(comment => {\n          if (comment.id === commentId) {\n            comment.replies.forEach(reply => {\n              if (reply.id === replyId) {\n                reply.replies = reply.replies.filter(subReply => subReply.id !== subReplyId);\n              }\n            });\n          }\n        });\n      } else if (replyId) {\n        this.comments.forEach(comment => {\n          if (comment.id === commentId) {\n            comment.replies = comment.replies.filter(reply => reply.id !== replyId);\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["bookData","CommentForm","name","components","data","comments","showCommentForm","replyComment","editingComment","editingReply","editingSubReply","methods","showReplyForm","comment","cancelComment","submitComment","content","id","length","author","replies","push","editComment","editing","saveComment","cancelEditComment","deleteComment","commentId","filter","editReply","reply","saveReply","cancelEditReply","deleteReply","replyId","subReplyId","forEach","subReply"],"sources":["C:\\Users\\Admin\\Desktop\\Test-FCORB-FE\\my-project\\src\\components\\Commentlist\\CommentList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Comments</h2>\r\n    <ul>\r\n      <li v-for=\"comment in comments\" :key=\"comment.id\">\r\n        <div>\r\n          <strong>{{ comment.author }}</strong>\r\n          <span v-if=\"!comment.editing\">{{ comment.content }}</span>\r\n          <textarea v-if=\"comment.editing\" v-model=\"comment.content\"></textarea>\r\n          <button @click=\"deleteComment(comment.id)\">Delete</button>\r\n          <button @click=\"showReplyForm(comment)\">Reply</button>\r\n          <button v-if=\"!comment.editing\" @click=\"editComment(comment)\">Edit</button>\r\n          <button v-if=\"comment.editing\" @click=\"saveComment(comment)\">Save</button>\r\n          <button v-if=\"comment.editing\" @click=\"cancelEditComment(comment)\">Cancel</button>\r\n        </div>\r\n        <ul>\r\n          <li v-for=\"reply in comment.replies\" :key=\"reply.id\">\r\n            <div>\r\n              <strong>{{ reply.author }}</strong>\r\n              <span v-if=\"!reply.editing\">{{ reply.content }}</span>\r\n              <textarea v-if=\"reply.editing\" v-model=\"reply.content\"></textarea>\r\n              <button @click=\"showReplyForm(reply)\">Reply</button>\r\n              <button @click=\"deleteReply(comment.id, reply.id)\">Delete</button>\r\n              <button v-if=\"!reply.editing\" @click=\"editReply(reply)\">Edit</button>\r\n              <button v-if=\"reply.editing\" @click=\"saveReply(reply)\">Save</button>\r\n              <button v-if=\"reply.editing\" @click=\"cancelEditReply(reply)\">Cancel</button>\r\n            </div>\r\n            <ul>\r\n              <li v-for=\"subReply in reply.replies\" :key=\"subReply.id\">\r\n                <div>\r\n                  <strong>{{ subReply.author }}</strong>\r\n                  <span v-if=\"!subReply.editing\">{{ subReply.content }}</span>\r\n                  <textarea v-if=\"subReply.editing\" v-model=\"subReply.content\"></textarea>\r\n                  <button @click=\"showReplyForm(subReply)\">Reply</button>\r\n                  <button @click=\"deleteReply(comment.id, reply.id, subReply.id)\">Delete</button>\r\n                  <button v-if=\"!subReply.editing\" @click=\"editReply(subReply)\">Edit</button>\r\n                  <button v-if=\"subReply.editing\" @click=\"saveReply(subReply)\">Save</button>\r\n                  <button v-if=\"subReply.editing\" @click=\"cancelEditReply(subReply)\">Cancel</button>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n        <div v-if=\"showCommentForm\">\r\n          <h3>{{ replyComment ? \"Reply\" : \"Add\" }} Comment</h3>\r\n          <comment-form :is-reply=\"replyComment !== null\" :comment=\"comment\" :reply=\"replyComment\" @submit=\"submitComment\" @cancel=\"cancelComment\" />\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div v-if=\"!showCommentForm\">\r\n      <button @click=\"showCommentForm = true\">Add Comment</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bookData from \"../../../src/json/CommentData.json\"\r\nimport CommentForm from \"../../../src/components/CommentForm/CommentForm.vue\"\r\nexport default {\r\n  name: \"CommentsView\",\r\n  components: {\r\n    CommentForm\r\n  },\r\n  data() {\r\n    return {\r\n      comments: bookData.comments,\r\n      showCommentForm: false,\r\n      replyComment: null,\r\n      editingComment: null,\r\n      editingReply: null,\r\n      editingSubReply: null\r\n    }\r\n  },\r\n  methods: {\r\n    showReplyForm(comment) {\r\n      this.replyComment = comment\r\n      this.showCommentForm = true\r\n    },\r\n    cancelComment() {\r\n      this.replyComment = null\r\n      this.showCommentForm = false\r\n    },\r\n    submitComment(content) {\r\n      const comment = {\r\n        id: this.comments.length + 1,\r\n        author: \"Anonymous\",\r\n        content,\r\n        replies: []\r\n      }\r\n\r\n      if (this.replyComment) {\r\n        this.replyComment.replies.push(comment)\r\n        this.replyComment = null\r\n      } else {\r\n        this.comments.push(comment)\r\n      }\r\n\r\n      this.showCommentForm = false\r\n    },\r\n    editComment(comment) {\r\n      this.editingComment = comment.id\r\n      comment.editing = true\r\n    },\r\n    saveComment(comment) {\r\n      comment.editing = false\r\n      this.editingComment = null\r\n    },\r\n    cancelEditComment(comment) {\r\n      comment.editing = false\r\n      this.editingComment = null\r\n    },\r\n    deleteComment(commentId) {\r\n      this.comments = this.comments.filter((comment) => comment.id !== commentId)\r\n    },\r\n    editReply(reply) {\r\n      this.editingReply = reply.id\r\n      reply.editing = true\r\n    },\r\n    saveReply(reply) {\r\n      reply.editing = false\r\n      this.editingReply = null\r\n    },\r\n    cancelEditReply(reply) {\r\n      reply.editing = false\r\n      this.editingReply = null\r\n    },\r\n    deleteReply(commentId, replyId, subReplyId) {\r\n      if (subReplyId) {\r\n        this.comments.forEach((comment) => {\r\n          if (comment.id === commentId) {\r\n            comment.replies.forEach((reply) => {\r\n              if (reply.id === replyId) {\r\n                reply.replies = reply.replies.filter((subReply) => subReply.id !== subReplyId)\r\n              }\r\n            })\r\n          }\r\n        })\r\n      } else if (replyId) {\r\n        this.comments.forEach((comment) => {\r\n          if (comment.id === commentId) {\r\n            comment.replies = comment.replies.filter((reply) => reply.id !== replyId)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.dm {\r\n  padding-left: 200px;\r\n}\r\n</style>\r\n"],"mappings":";AAwDA,OAAOA,QAAO,MAAO,oCAAmC;AACxD,OAAOC,WAAU,MAAO,qDAAoD;AAC5E,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAEL,QAAQ,CAACK,QAAQ;MAC3BC,eAAe,EAAE,KAAK;MACtBC,YAAY,EAAE,IAAI;MAClBC,cAAc,EAAE,IAAI;MACpBC,YAAY,EAAE,IAAI;MAClBC,eAAe,EAAE;IACnB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,aAAaA,CAACC,OAAO,EAAE;MACrB,IAAI,CAACN,YAAW,GAAIM,OAAM;MAC1B,IAAI,CAACP,eAAc,GAAI,IAAG;IAC5B,CAAC;IACDQ,aAAaA,CAAA,EAAG;MACd,IAAI,CAACP,YAAW,GAAI,IAAG;MACvB,IAAI,CAACD,eAAc,GAAI,KAAI;IAC7B,CAAC;IACDS,aAAaA,CAACC,OAAO,EAAE;MACrB,MAAMH,OAAM,GAAI;QACdI,EAAE,EAAE,IAAI,CAACZ,QAAQ,CAACa,MAAK,GAAI,CAAC;QAC5BC,MAAM,EAAE,WAAW;QACnBH,OAAO;QACPI,OAAO,EAAE;MACX;MAEA,IAAI,IAAI,CAACb,YAAY,EAAE;QACrB,IAAI,CAACA,YAAY,CAACa,OAAO,CAACC,IAAI,CAACR,OAAO;QACtC,IAAI,CAACN,YAAW,GAAI,IAAG;MACzB,OAAO;QACL,IAAI,CAACF,QAAQ,CAACgB,IAAI,CAACR,OAAO;MAC5B;MAEA,IAAI,CAACP,eAAc,GAAI,KAAI;IAC7B,CAAC;IACDgB,WAAWA,CAACT,OAAO,EAAE;MACnB,IAAI,CAACL,cAAa,GAAIK,OAAO,CAACI,EAAC;MAC/BJ,OAAO,CAACU,OAAM,GAAI,IAAG;IACvB,CAAC;IACDC,WAAWA,CAACX,OAAO,EAAE;MACnBA,OAAO,CAACU,OAAM,GAAI,KAAI;MACtB,IAAI,CAACf,cAAa,GAAI,IAAG;IAC3B,CAAC;IACDiB,iBAAiBA,CAACZ,OAAO,EAAE;MACzBA,OAAO,CAACU,OAAM,GAAI,KAAI;MACtB,IAAI,CAACf,cAAa,GAAI,IAAG;IAC3B,CAAC;IACDkB,aAAaA,CAACC,SAAS,EAAE;MACvB,IAAI,CAACtB,QAAO,GAAI,IAAI,CAACA,QAAQ,CAACuB,MAAM,CAAEf,OAAO,IAAKA,OAAO,CAACI,EAAC,KAAMU,SAAS;IAC5E,CAAC;IACDE,SAASA,CAACC,KAAK,EAAE;MACf,IAAI,CAACrB,YAAW,GAAIqB,KAAK,CAACb,EAAC;MAC3Ba,KAAK,CAACP,OAAM,GAAI,IAAG;IACrB,CAAC;IACDQ,SAASA,CAACD,KAAK,EAAE;MACfA,KAAK,CAACP,OAAM,GAAI,KAAI;MACpB,IAAI,CAACd,YAAW,GAAI,IAAG;IACzB,CAAC;IACDuB,eAAeA,CAACF,KAAK,EAAE;MACrBA,KAAK,CAACP,OAAM,GAAI,KAAI;MACpB,IAAI,CAACd,YAAW,GAAI,IAAG;IACzB,CAAC;IACDwB,WAAWA,CAACN,SAAS,EAAEO,OAAO,EAAEC,UAAU,EAAE;MAC1C,IAAIA,UAAU,EAAE;QACd,IAAI,CAAC9B,QAAQ,CAAC+B,OAAO,CAAEvB,OAAO,IAAK;UACjC,IAAIA,OAAO,CAACI,EAAC,KAAMU,SAAS,EAAE;YAC5Bd,OAAO,CAACO,OAAO,CAACgB,OAAO,CAAEN,KAAK,IAAK;cACjC,IAAIA,KAAK,CAACb,EAAC,KAAMiB,OAAO,EAAE;gBACxBJ,KAAK,CAACV,OAAM,GAAIU,KAAK,CAACV,OAAO,CAACQ,MAAM,CAAES,QAAQ,IAAKA,QAAQ,CAACpB,EAAC,KAAMkB,UAAU;cAC/E;YACF,CAAC;UACH;QACF,CAAC;MACH,OAAO,IAAID,OAAO,EAAE;QAClB,IAAI,CAAC7B,QAAQ,CAAC+B,OAAO,CAAEvB,OAAO,IAAK;UACjC,IAAIA,OAAO,CAACI,EAAC,KAAMU,SAAS,EAAE;YAC5Bd,OAAO,CAACO,OAAM,GAAIP,OAAO,CAACO,OAAO,CAACQ,MAAM,CAAEE,KAAK,IAAKA,KAAK,CAACb,EAAC,KAAMiB,OAAO;UAC1E;QACF,CAAC;MACH;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}